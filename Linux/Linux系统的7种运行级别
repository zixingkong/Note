linux系统的7种运行级别


本文转载自http://blog.chinaunix.net/uid-22746363-id-383989.html

Linux系统有7个运行级别(runlevel)
运行级别0：系统停机状态，系统默认运行级别不能设为0，否则不能正常启动
运行级别1：单用户工作状态，root权限，用于系统维护，禁止远程登陆
运行级别2：多用户状态(没有NFS)
运行级别3：完全的多用户状态(有NFS)，登陆后进入控制台命令行模式
运行级别4：系统未使用，保留
运行级别5：X11控制台，登陆后进入图形GUI模式
运行级别6：系统正常关闭并重启，默认运行级别不能设为6，否则不能正常启动

运行级别的原理：
1。在目录/etc/rc.d/init.d下有许多服务器脚本程序，一般称为服务(service)
2。在/etc/rc.d下有7个名为rcN.d的目录，对应系统的7个运行级别
3。rcN.d目录下都是一些符号链接文件，这些链接文件都指向init.d目录下的service脚本文件，命名规则为K+nn+服务名或S+nn+服务名，其中nn为两位数字。
4。系统会根据指定的运行级别进入对应的rcN.d目录，并按照文件名顺序检索目录下的链接文件
     对于以K开头的文件，系统将终止对应的服务
     对于以S开头的文件，系统将启动对应的服务
5。查看运行级别用：runlevel
6。进入其它运行级别用：init N
7。另外init0为关机，init 6为重启系统
    由于现在的Linux系统安装完后就运行在第5个级别，即系统启动后直接进入图形界面，而不用在字符模式下登录后用startx或者xinit 来起动图形界面。建议在系统安装完成后把系统的默认运行等级设置在第3级，在字符终端登录后，再手工输入startx 命令起动图形界面。可以用如下的方法修改：
用文本编辑器修改　/etc/inittab文件，把

代码:

id:5:initdefault:这一行，修改成

代码:

id:3:initdefault:保存后就reboot重起，系统就默认起动到字符界面。不同运行级别之间的 差别的在于系统默认起动的服务的不同，如运行级别3默认不启动X图形界面服务，而运行级别5 却默认起动。本质上是没有区别的，更无所谓不同级别间功能强弱的问题。用户完全可自给定义不同级别的默认服务。在任何运行级别，用户都可用init 命令来切换到其他运行级别。

由于ubuntu系统没有inittab文件。其配置参考：http://blog.chinaunix.net/u2/82530/showart_2033617.html



------------------------------------------------------------------------------------------------------------------



本文转载自http://www.cnblogs.com/gbyukg/archive/2011/10/10/2205424.html

linux运行级别

以管理员身份进入Linux，修改文件：/etc/inittab

找到“id：5：initdefault：”其中的5就是X-window，为默认的运行级别

linux启动之后会在一个级别运行,下面列出了这些运行级别:

0 系统停止

1 单用户系统，不需要登陆

2 多用户系统但不支持NFS，命令行模式登陆

3 完整多用户模式,命令行模式登陆

4 未用

5 X11图形模式，图形模式登陆

6 重新启动系统

这些可以在/etc/initab文件中可以看到0-6级的注释,代码段如下:

# Default runlevel. The runlevels used by RHS are:

#   0 - halt (Do NOT set initdefault to this)

#   1 - Single user mode

#   2 - Multiuser, without NFS (The same as 3, if you do not have networking)

#   3 - Full multiuser mode

#   4 - unused

#   5 - X11

#   6 - reboot (Do NOT set initdefault to this)

1.级别 0

  系统停止。注意不要把该级别设置为默认模式，否则系统每次启动以后就会自动停止，无法进入。

这个运行级别主要用于关闭任务，在 rc0.d 目录下的各个连接命令都是此级别的命令。在关闭时，这些命令逐个执行。它们将杀掉所有进程、关闭虚拟内存和交换文件、卸载文件系统和交换分区。

关机操作在 DOS 下和 Linux 下截然不同。在 DOS 提示符下，可以很放心地直接关闭电源。但是，在 Linux 下不能这么做。Linux 的文件系统在启动时被装入，在关闭时要被卸载。这种差别正是 Linux 强大功能的前提。

在 Linux 下，要通过输入命令 shutdown 加上参数来关闭、重启计算机或者通过按下热键“Ctrl”+“Alt”+“Del”来重新启动。

2.级别 1

单用户模式。该模式只能许可一个用户从本地计算机上登录 rc1.d 目录下的所有文件与此运行级别相连。此运行级别一般用于系统管理与维护,如：给Linux 系统升级，安装新软件等等。

在此模式下，只能由管理员进入而其他用户无法登录。因为在启动时，文件系统被加载但是网络却没有被加载，无法通过网络登录。

3.级别 2

多用户模式。用户可以通过网络进行登录。在不支持网络的情况下该模式和模式 3 是相的，rc2.d 目录下所有文件与此级别相连。

4.级别 3

完全多用户模式。这是缺省的运行模式，在此模式下所有网络服务程序一起运行。rc3.d录下的文件与此级别相连。

5.级别 4

未使用模式，rc4.d 目录与此级别相连。这一级别是用户自定义的运行级别，用户可以根需要自己定义。如果想运行此级别的话，必须在 rc3.d 目录下放入连接文件，就像其他 rc*.d目录下的文件，并指明是启动还是终止进程。

6.级别 5

在 Linux 下运行 X  Window 就是使用这一级别。在此级别下除了因特网的域名服务器的named 与级别 3 不同，其余的都相同。

7.级别 6

这是个重新启动系统的运行级别。rc6.d 目录与此级别相连。既然是重新启动也就是关闭当前系统，但不关闭电源，所以此目录下的连接与级别为 0 的在rc0.d 下的连接基本相同。不同之处在于，虽然它们都执行 halt（关闭）命令，但是给 halt 传递的参数不一样，因而级别 6 能够重新启动系统。

