网络配置的四大基本要素： IP + Netmask + Gateway + DNS
2016年10月29日 12:15:47
阅读数：10000
1.  IP

IP地址（英语：Internet Protocol Address）是一种在Internet上的给主机编址的方式，也称为网际协议地址。常见的IP地址，分为IPv4与IPv6两大类。

IP地址就像是我们的家庭住址一样，如果你要写信给一个人，你就要知道他（她）的地址，这样邮递员才能把信送到。计算机发送信息就好比是邮递员，它必须知道唯一的“家庭地址”才能不至于把信送错人家。只不过我们的地址使用文字来表示的，计算机的地址用二进制数字表示。
众所周知，在电话通讯中，电话用户是靠电话号码来识别的。同样，在网络中为了区别不同的计算机，也需要给计算机指定一个连网专用号码，这个号码就是“IP地址”。
将IP地址分成了网络号和主机号两部分，设计者就必须决定每部分包含多少位。网络号的位数直接决定了可以分配的网络数（计算方法2^网络号位数-2）；主机号的位数则决定了网络中最大的主机数（计算方法2^主机号位数-2）。然而，由于整个互联网所包含的网络规模可能比较大，也可能比较小，设计者最后聪明的选择了一种灵活的方案：将IP地址空间划分成不同的类别，每一类具有不同的网络号位数和主机号位数。
Internet上的每台主机(Host)都有一个唯一的IP地址。IP协议就是使用这个地址在主机之间传递信息，这是Internet 能够运行的基础。IP地址的长度为32位(共有2^32个IP地址)，分为4段，每段8位，用十进制数字表示，每段数字范围为0～255，段与段之间用句点隔开。例如159.226.1.1。
IP地址 =  网络标识号码 + 主机标识号码。
因此IP地址可分两部分组成，一部分为网络地址，另一部分为主机地址。
IP地址分为A、B、C、D、E5类，它们适用的类型分别为：大型网络；中型网络；小型网络；多目地址；备用。常用的是B和C两类。

特殊的网址
1.  “lll0”开始的地址都叫多点广播地址。因此，任何第一个字节大于223小于240的IP地址(范围224.0.0.1-239.255.255.254)是多点广播地址；
2.  每一个字节都为0的地址（“0.0.0.0”）对应于当前主机；
3.  IP地址中的每一个字节都为1的IP地址（“255．255．255．255”）是当前子网的广播地址；
4.  IP地址中凡是以“llll0”开头的E类IP地址都保留用于将来和实验使用。
5.  IP地址中不能以十进制“127”作为开头，该类地址中数字127．0．0．1到127．255．255．255用于回路测试。
     如：127.0.0.1可以代表本机IP地址，用“http://127.0.0.1”就可以测试本机中配置的Web服务器。
6.  网络ID的第一个6位组也不能全置为“0”，全“0”表示本地网络。

公有地址
公有地址（Public address）由Inter NIC（Internet Network Information Center因特网信息中心）负责。
这些IP地址分配给注册并向Inter NIC提出申请的组织机构。通过它直接访问因特网。
私有地址
私有地址（Private address）属于非注册地址，专门为组织机构内部使用。
以下列出留用的内部私有地址
A类 10.0.0.0--10.255.255.255
B类 172.16.0.0--172.31.255.255
C类 192.168.0.0--192.168.255.255

局域网中的IP
在一个局域网中，有两个IP地址比较特殊，一个是网络号，一个是广播地址。
网络号是用于三层寻址的地址，它代表了整个网络本身；另一个是广播地址，它代表了网络全部的主机。
网络号是网段中的第一个地址，广播地址是网段中的最后一个地址，这两个地址是不能配置在计算机主机上的。
例如在192.168.0.0，255.255.255.0这样的网段中，网络号是192.168.0.0，广播地址是192.168.0.255。因此，在一个局域网中，能配置在计算机中的地址比网段内的地址要少两个（网络号、广播地址），这些地址称之为主机地址。在上面的例子中，主机地址就只有192.168.0.1至192.168.0.254可以配置在计算机上了。


2. Netmask

用来指明一个IP地址的哪些位标识的是主机所在的子网以及哪些位标识的是主机的位掩码。子网掩码不能单独存在，它必须结合IP地址一起使用。子网掩码只有一个作用，就是将某个IP地址划分成网络地址和主机地址两部分。

子网掩码的设定必须遵循一定的规则。
与二进制IP地址相同，子网掩码由1和0组成，且1和0分别连续。
子网掩码的长度也是32位，左边是网络位，用二进制数字“1”表示，1的数目等于网络位的长度；右边是主机位，用二进制数字“0”表示，0的数目等于主机位的长度。
这样做的目的是为了让掩码与ip地址做AND运算时用0遮住原主机数，而不改变原网络段数字，而且很容易通过0的位数确定子网的主机数（2的主机位数次方-2，因为主机号全为1时表示该网络广播地址，全为0时表示该网络的网络号，这是两个特殊地址）。
只有通过子网掩码，才能表明一台主机所在的子网与其他子网的关系，使网络正常工作。

对于A类地址来说，默认的子网掩码是255.0.0.0；
对于B类地址来说默认的子网掩码是255. 255.0.0；
对于C类地址来说默认的子网掩码是255.255.255.0。
利用子网掩码可以把大的网络划分成子网即VLSM（可变长子网掩码），也可以把小的网络归并成大的网络即超网。


3. Gateway

网关（Gateway）就是一个网络连接到另一个网络的“关口”。
一个用于 TCP/IP 协议的配置项，是一个可直接到达的 IP路由器的 IP地址。

赋予路由器IP地址的名称,与本地网络连接的机器必须把向外的流量传递到此地址中以超出本地网络,从而使那个地址成为本地子网以外的IP地址的"网关".
也就是最近常用的网关,当主机路由表目或网络输入不存在于本地主机的路由表时数据包发送到那里.

配置默认网关可以在 IP路由表中创建一个默认路径。 一台主机可以有多个网关。
默认网关的意思是一台主机如果找不到可用的网关，就把数据包发给默认指定的网关，由这个网关来处理数据包。
现在主机使用的网关，一般指的是默认网关。
 一台电脑的默认网关是不可以随随便便指定的，必须正确地指定，否则一台电脑就会将数据包发给不是网关的电脑，从而无法与其他网络的电脑通信。
默认网关的设定有手动设置和自动设置两种方式。

那么网关到底是什么呢？网关实质上是一个网络通向其他网络的IP地址。比如有网络A和网络B，网络A的IP地址范围为“192.168.1.1~192. 168.1.254”，子网掩码为255.255.255.0；网络B的IP地址范围为“192.168.2.1~192.168.2.254”，子网掩码为255.255.255.0。在没有路由器的情况下，两个网络之间是不能进行TCP/IP通信的，即使是两个网络连接在同一台交换机（或集线器）上，TCP/IP协议也会根据子网掩码（255.255.255.0）判定两个网络中的主机处在不同的网络里。而要实现这两个网络之间的通信，则必须通过网关。如果网络A中的主机发现数据包的目的主机不在本地网络中，就把数据包转发给它自己的网关，再由网关转发给网络B的网关，网络B的网关再转发给网络B的某个主机（如附图所示）。网络B向网络A转发数据包的过程也是如此。所以说，只有设置好网关的IP地址，TCP/IP协议才能实现不同网络之间的相互通信。那么这个IP地址是哪台机器的IP地址呢？网关的IP地址是具有路由功能的设备的IP地址，具有路由功能的设备有路由器、启用了路由协议的服务器（实质上相当于一台路由器）、代理服务器（也相当于一台路由器）。

4. DNS 

DNS 是计算机域名系统(Domain Name System 或Domain Name Service) 的缩写，它是由解析器以及域名服务器组成的。
域名服务器是指保存有该网络中所有主机的域名和对应IP地址，并具有将域名转换为IP地址功能的服务器。
DNS使用TCP与UDP端口号都是53，主要使用UDP，服务器之间备份使用TCP。

你在上网时输入的网址，是通过域名解析系统解析找到了相对应的IP地址，这样才能上网。

Internet上的计算机是通过IP地址来定位的，给出一个IP地址，就可以找到Internet上的某台主机。
而因为IP地址难于记忆，又发明了域名来代替IP地址。
但通过域名并不能直接找到要访问的主机，中间要加一个从  域名(可以理解为网址，如www.baidu.com)  查找IP地址的过程，这个过程就是域名解析。
域名注册后，注册商为域名提供免费的静态解析服务。
一般的域名注册商不提供动态解析服务，如果需要用动态解析服务，需要向动态域名服务商支付域名动态解析服务费。
